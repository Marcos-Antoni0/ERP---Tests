# Lista de Tarefas - ERP FortTech\n\n## 14. Lista de Tarefas

### Sprint 1: Design System e Refatoração de Configurações (5 dias)

| Tarefa | Subtarefa | Escopo e Implementação | Checklist |
| :--- | :--- | :--- | :--- |
| **T1.0** | **Setup e Padrões** | Configurar ambiente de desenvolvimento e ferramentas de *linting* (ex: *flake8*). | [X] |
| | T1.1 | Aplicar aspas simples e PEP 8 no código base. | [X] |
| **T2.0** | **Design System** | Definir e aplicar classes utilitárias do Tailwind para o Design System. | [X] |
| | T2.1 | Criar classes para a paleta de cores (`#002d6c`, `#007da0`, `#ffffff`). | [X] |
| | T2.2 | Criar componentes base (botões primário/secundário, *inputs*, *forms*) com o novo padrão visual. | [X] |
| | T2.3 | Garantir que o fundo de páginas e modais seja `#ffffff`. | [X] |
| **T3.0** | **Configurações** | Refatorar a aba "Sobre" para "Configurações". | [X] |
| | T3.1 | Renomear a rota `/about/` para `/configuracoes/` em `core/urls.py`. | [X] |
| | T3.2 | Criar a *Class Based View* (CBV) `ConfiguracoesView` em `core/views.py`. | [X] |
| | T3.3 | Criar o *template* `core/configuracoes.html` com arquitetura responsiva. | [X] |
| | T3.4 | Adicionar campo de seleção de impressora padrão no modelo `Company` ou em um novo modelo `ConfiguracaoSistema`. | [X] |
| | T3.5 | Implementar a lógica de salvar a impressora padrão para o *tenant* atual. | [X] |

### Sprint 2: Impressão e Estoque XML (7 dias) | [X]

| Tarefa | Subtarefa | Escopo e Implementação | Checklist |
| :--- | :--- | :--- | :--- |
| **T4.0** | **Impressão Automática** | Implementar o *trigger* de impressão após a finalização da venda. | [X] |
| | T4.1 | Corrigir o *trigger* de impressão automática para disparar o `receipt_caixa.html` ao finalizar a venda no PDV. | [X] |
| | T4.2 | Criar a função de impressão que lê a impressora padrão configurada. | [X] |
| | T4.3 | Integrar a função de impressão no fluxo de finalização de venda, comandas e pedidos. | [X] |
| **T4.4** | **Impressão Manual** | Corrigir o layout de impressão manual em todos os recibos (exceto o automático) para evitar corte de informações e unificar o layout com base no `receipt_caixa.html`. | [X] |
| **T4.5** | **Layout XML** | Aumentar o tamanho dos campos de custo e preço no modal de pré-visualização XML para visualização completa dos valores. | [X] |
| **T4.6** | **Lógica XML** | Implementar a lógica de preenchimento automático: custo com valor unitário da nota (XML) e preço com valor de venda do produto. | [X] |
| **T5.0** | **Entrada XML** | Desenvolver a funcionalidade de importação de estoque via XML. | [X] |
| | T5.1 | Criar a *Class Based View* (CBV) `EstoqueXMLUploadView` em `inventory/views.py`. | [X] |
| | T5.2 | Criar o *template* para *upload* de arquivo XML. | [X] |
| | T5.3 | Implementar a lógica de *parsing* do XML para extrair dados de produtos/estoque. | [X] |
| | T5.4 | Criar o *template* de **modal** com interface de planilha (Excel-like) para pré-visualização e edição. | [X] |
| | T5.5 | Implementar a lógica de *backend* para receber os dados editados do modal e atualizar/criar o estoque (modelo `Estoque`). | [X] |
| | T5.6 | Adicionar *signals.py* em `inventory` se necessário para a lógica de estoque. | [X] |

### Sprint 3: Clientes e Débitos (10 dias)

| Tarefa | Subtarefa | Escopo e Implementação | Checklist |
| :--- | :--- | :--- | :--- |
| **T6.0** | **Setup Clientes/Débitos** | Criar as novas *apps* `clients` e `debts` e configurar no `settings.py`. | [ ] |
| **T7.0** | **Clientes** | Desenvolvimento da funcionalidade de Clientes. | [ ] |
| | T7.1 | Criar o modelo `Client` em `clients/models.py` (com `TenantMixin`). | [ ] |
| | T7.2 | Criar a *Class Based View* (CBV) para cadastro e listagem de clientes. | [ ] |
| | T7.3 | Implementar a lógica para calcular e exibir o **histórico de consumo** do cliente. | [ ] |
| | T7.4 | Implementar a lógica para exibir os **débitos pendentes** do cliente. | [ ] |
| **T8.0** | **Débitos** | Desenvolvimento da funcionalidade de Débitos. | [ ] |
| | T8.1 | Criar o modelo `Debt` em `debts/models.py` (com `TenantMixin`, FK para `Client`). | [ ] |
| | T8.2 | Criar a *Class Based View* (CBV) para registro de novos débitos. | [ ] |
| | T8.3 | Criar a *Class Based View* (CBV) para visualização do **histórico completo** de débitos. | [ ] |
| | T8.4 | Implementar a lógica de **baixa** (pagamento) de débito, registrando data e forma de pagamento. | [ ] |
| **T9.0** | **Integração** | Integrar as novas funcionalidades ao fluxo de vendas. | [ ] |
| | T9.1 | Adicionar campo opcional de `client` ao modelo `Sales` ou `Pedido`. | [ ] |
| | T9.2 | Ajustar o fluxo de vendas para permitir o registro de débitos (venda a prazo). | [ ] |
| | T9.3 | Adicionar links de acesso às novas funcionalidades no Navbar. | [ ] |
